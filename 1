<!doctype html>
<html lang="tk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wedding Invitation ‚Äî S√ºle√Ωman & ≈ûajahan</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #fff0f6;
      --bg2: #fff7fb;
      --accent: #ff6fa6;
      --accent-2: #ffd7ec;
      --text: #3b2a2a;
      --muted: #7a5b5b;
      --container-max: 980px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color: transparent;
      -ms-text-size-adjust:100%;
    }

    /* Container */
    .container{
      max-width:var(--container-max);
      margin:32px auto;
      padding:28px;
      background:rgba(255,255,255,0.85);
      border-radius:18px;
      box-shadow:0 12px 40px rgba(0,0,0,0.06);
      position:relative;
      overflow:hidden;
    }

    header{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .branding{
      min-width:0;
    }
    .title{
      font-family:"Playfair Display", serif;
      font-size: clamp(18px, 3vw, 28px);
      letter-spacing:0.4px;
      color:var(--accent);
    }
    .names{
      font-size: clamp(26px, 6vw, 44px);
      font-family:"Playfair Display";
      color:#b30f5e;
      margin:6px 0 0 0;
      line-height:1;
    }
    .subtitle{ color:var(--muted); margin-top:6px; font-size:14px }

    /* Header controls */
    .controls{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .icon-btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background:linear-gradient(180deg,#fff,#fff9fb);
      border:1px solid rgba(155,75,115,0.06);
      cursor:pointer;
      font-size:14px;
    }
    .icon-btn[aria-pressed="true"]{ box-shadow:0 6px 18px rgba(255,111,166,0.12) }

    /* Hero grid */
    .hero{
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:24px;
      align-items:start;
      margin-top:20px;
    }

    /* Cards */
    .card{
      padding:18px;
      border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.88));
      box-shadow: 0 6px 18px rgba(203,84,139,0.06);
      backdrop-filter: blur(4px);
    }

    h3{ margin:0 0 10px 0; font-family:"Playfair Display"; color:#9f1e6a }
    p{ margin:6px 0; color:var(--muted) }

    /* Countdown */
    .countdown{
      display:flex;
      gap:10px;
      margin-top:12px;
      flex-wrap:wrap;
    }
    .countdown .unit{
      background:linear-gradient(180deg,#fff,#ffeaf6);
      border-radius:10px;
      padding:12px 14px;
      text-align:center;
      min-width:64px;
      box-shadow:0 6px 14px rgba(0,0,0,0.03);
    }
    .unit .number{ font-size:18px; font-weight:700; color:#8a114b }
    .unit .label{ font-size:12px; color:var(--muted) }

    /* Buttons */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      background:linear-gradient(90deg,var(--accent), #ff8cba);
      color:white;
      border:none;
      padding:10px 16px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      box-shadow:0 8px 20px rgba(255,111,166,0.14);
      transition:transform .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform:translateY(1px) }
    .btn.secondary{
      background:transparent;
      border:1px solid rgba(155,75,115,0.12);
      color:var(--text);
    }

    /* Photo frame */
    .photo-frame {
      position: relative;
      width: 100%;
      max-width:320px;
      aspect-ratio: 1/1;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 16px 40px rgba(255,111,166,0.12);
      margin: 0 auto;
    }
    .photo-frame img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1.2s ease-in-out;
    }
    .photo-frame img.active { opacity: 1; z-index:2 }

    .side-text { text-align:center; margin-top:14px }
    .side-text .name { font-weight:700; font-family:"Playfair Display"; font-size:20px }
    .side-text .muted { color:var(--muted); margin-top:6px; font-size:14px }

    footer{ margin-top:18px; text-align:center; color:var(--muted); font-size:13px }

    /* Floating decorations */
    .floating{ position:absolute; inset:0; pointer-events:none }
    .heart{ position:absolute; opacity:0.12; filter:blur(.2px) }

    /* Modal (Google Form) */
    .modal-backdrop{
      position:fixed; inset:0; background:rgba(20,10,20,0.45);
      display:none; align-items:center; justify-content:center; z-index:60;
      padding:20px;
    }
    .modal{
      width:min(900px,100%);
      max-height:90vh;
      background:white; border-radius:12px; overflow:hidden; box-shadow:0 22px 80px rgba(0,0,0,0.35);
      display:flex; flex-direction:column;
    }
    .modal .modal-header{
      display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid #f3e6ef;
    }
    .modal iframe{ width:100%; height:calc(100% - 56px); border:0; display:block; }

    /* Small screens */
    @media (max-width:880px){
      .hero { grid-template-columns: 1fr; }
      .floating{ display:none; }
      .photo-frame { max-width: 280px; margin-top:6px }
      .container{ margin:20px 14px; padding:18px }
    }

    @media (max-width:600px){
      .btn{ width:100% }
      .controls{ width:100%; justify-content:flex-end }
      .names{ font-size: clamp(22px, 8vw, 34px) }
      .title{ font-size:18px }
      .photo-frame{ max-width: 100%; aspect-ratio:1/1 }
      .modal{ width:100%; height:100%; max-height:100vh; border-radius:12px }
      .modal iframe{ height:calc(100% - 56px) }
    }

    /* Utility */
    .muted-small{ font-size:13px; color:var(--muted) }
    a.venue-link{ color:#9c1160; text-decoration:none; font-weight:600 }
    .sr-only{ position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden }
  </style>
</head>
<body>
  <!-- =========================
       CONFIG ‚Äî edit these
       ========================= -->
  <script>
    // --- configuration (edit these values) ---
    const coupleNames = "S√ºle√Ωman we ≈ûajahan";
    // Use a proper ISO-ish string (either "2026-06-15T18:00:00" or "2026-06-15 18:00:00")
    const weddingDateISO = "2026-06-15 18:00:00";
    const venueName = "Jennet restorany";
    const venueAddress = "A≈ügabat ≈ü√§heri";
    const mapsURL = "https://yandex.tm/maps/org/168050053290/?ll=58.159278%2C38.059505&z=15.17";
    // IMPORTANT: paste the SHARE (public) URL of your embedded Google Form here.
    // Example: "https://docs.google.com/forms/d/e/FORM_ID/viewform?embedded=true"
    const googleFormURL = ""; // <-- set your google form embed URL here (required for RSVP modal)
    // Optional audio (direct mp3 link). Leave empty to disable.
    const musicURL = "";
  </script>

  <div class="container" id="pageContainer" role="main">
    <header>
      <div class="branding" aria-hidden="false">
        <div class="title">Biz to√Ω ed√Ωaris!</div>
        <div class="names" id="namesJS">Loading‚Ä¶</div>
        <div class="subtitle" id="dateSubtitle">Save the date</div>
      </div>

      <div class="controls" aria-hidden="false">
        <button id="shareBtn" class="icon-btn" type="button" title="Share invitation">
          <span aria-hidden="true">üîó</span>
          <span class="muted-small">Share</span>
        </button>

        <button id="musicToggle" class="icon-btn" type="button" aria-pressed="false" title="Play / pause music">
          <span id="musicIcon" aria-hidden="true">‚ô™</span>
          <span id="musicLabel" class="muted-small">Music: (none)</span>
        </button>
      </div>
    </header>

    <div class="hero" style="margin-top:20px;">
      <!-- LEFT: details -->
      <section class="card details" aria-labelledby="inviteHeading">
        <h3 id="inviteHeading">Sizi to√Ωymyza √ßagyr√Ωarys</h3>
        <p id="invitationText">Bizi≈à bagt to√Ωumyza gatna≈ümagy≈àyz bize uly ≈üatlyk bolar.</p>

        <div style="margin-top:16px;">
          <strong>G√ºni we wagty</strong>
          <div class="muted-small" id="dateTime">‚Äî</div>

          <strong style="margin-top:12px; display:block">√ùeri</strong>
          <div class="muted-small">
            <div id="venueName">‚Äî</div>
            <div id="venueAddress">‚Äî</div>
            <a id="mapsLink" class="venue-link" href="#" target="_blank" rel="noopener">Kartada g√∂rkez</a>
          </div>
        </div>

        <div style="margin-top:14px;">
          <strong>Galan wagt</strong>
          <div class="countdown" id="countdown" aria-live="polite">
            <div class="unit" aria-hidden="true">
              <div class="number" id="days">--</div>
              <div class="label">G√ºn</div>
            </div>
            <div class="unit" aria-hidden="true">
              <div class="number" id="hours">--</div>
              <div class="label">Sagat</div>
            </div>
            <div class="unit" aria-hidden="true">
              <div class="number" id="minutes">--</div>
              <div class="label">Minut</div>
            </div>
            <div class="unit" aria-hidden="true">
              <div class="number" id="seconds">--</div>
              <div class="label">Sekunt</div>
            </div>
          </div>
        </div>

        <div class="cta" style="margin-top:18px;">
          <button id="rsvpBtn" class="btn" type="button" aria-haspopup="dialog">üíå Myhmany≈à anketasy</button>
          <a class="btn secondary" href="#" id="directionsBtn" target="_blank" rel="noopener">üß≠ N√§√ße √Ωakyn?</a>
        </div>

        <div style="margin-top:12px; color:var(--muted); font-size:13px;">
          <strong>Lybas:</strong> √ùa≈üyl, g√ºlg√ºne, g√∂k -- esasy sizi≈à √Ωylgyr≈üy≈àyz ‚ú®
        </div>
      </section>

      <!-- RIGHT: photo -->
      <aside class="card" aria-label="Photos">
        <div class="photo-frame" id="photoFrame">
          <!-- Replace these src values with your images -->
          <img src="couple_photo1.jpg" alt="Couple photo 1" class="active">
          <img src="couple_photo2.jpg" alt="Couple photo 2">
          <img src="couple_photo3.jpg" alt="Couple photo 3">
        </div>

        <div class="side-text" style="margin-top:12px;">
          <div class="name" id="sideNames">M√§hribanlar</div>
          <div class="muted">Size sabyrsyzlyk bilen gara≈ü√Ωarys</div>
        </div>
      </aside>
    </div>

    <footer>
      <div class="muted-small">Jogaby≈àyzy ugratmak √º√ßin "Myhmany≈à anketasy" d√ºwm√§ basy≈à</div>
    </footer>

    <!-- decorations (visual only) -->
    <div class="floating" aria-hidden="true">
      <svg class="heart" style="left:10%; top:18%; width:84px;" viewBox="0 0 24 24" fill="none"><path d="M12 21s-8-5.3-8-10a5 5 0 0 1 9.9-1A5 5 0 0 1 20 11c0 4.7-8 10-8 10z" fill="#ff6fa6"/></svg>
      <svg class="heart" style="left:78%; top:12%; width:64px;" viewBox="0 0 24 24" fill="none"><path d="M12 21s-8-5.3-8-10a5 5 0 0 1 9.9-1A5 5 0 0 1 20 11c0 4.7-8 10-8 10z" fill="#ff9ccf"/></svg>
    </div>
  </div>

  <!-- RSVP Modal (Google Form embed) -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-label="RSVP form">
      <div class="modal-header">
        <div style="font-weight:700; color:#9c1160">RSVP</div>
        <div style="display:flex; gap:8px; align-items:center;">
          <button id="printBtn" class="icon-btn" type="button" title="Print">üñ®Ô∏è Print</button>
          <button id="closeModal" class="btn secondary" style="height:36px; padding:6px 12px;">Close</button>
        </div>
      </div>
      <iframe id="rsvpIframe" src="" title="RSVP form (Google Form)"></iframe>
    </div>
  </div>

  <!-- Background audio (optional) -->
  <audio id="bgAudio" loop preload="none" src=""></audio>

  <script>
  (function(){
    /* -------------------------
       Utility / config values
       ------------------------- */
    const namesEl = document.getElementById('namesJS');
    const sideNamesEl = document.getElementById('sideNames');
    const dateTimeEl = document.getElementById('dateTime');
    const dateSubtitleEl = document.getElementById('dateSubtitle');
    const venueNameEl = document.getElementById('venueName');
    const venueAddressEl = document.getElementById('venueAddress');
    const mapsLinkEl = document.getElementById('mapsLink');
    const directionsBtn = document.getElementById('directionsBtn');
    const rsvpBtn = document.getElementById('rsvpBtn');
    const modalBackdrop = document.getElementById('modalBackdrop');
    const iframe = document.getElementById('rsvpIframe');
    const closeModal = document.getElementById('closeModal');
    const shareBtn = document.getElementById('shareBtn');
    const audio = document.getElementById('bgAudio');
    const musicToggle = document.getElementById('musicToggle');
    const musicIcon = document.getElementById('musicIcon');
    const musicLabel = document.getElementById('musicLabel');
    const printBtn = document.getElementById('printBtn');

    // Localized day/month names (Turkmen)
    const turkmenWeekdays = ["√ùek≈üenbe", "Du≈üenbe", "Si≈üenbe", "√áar≈üenbe", "Pen≈üenbe", "Anna", "≈ûenbe"];
    const turkmenMonths = ["√ùanwar", "Fewral", "Mart", "Aprel", "Ma√Ω", "I√Ωun", "I√Ωul", "Awgust", "Sent√Ωabr", "Okt√Ωabr", "No√Ωabr", "Dekabr"];

    // Read configuration variables from top-level script
    // (They are defined in the global scope)
    const cfg = {
      coupleNames: typeof coupleNames !== 'undefined' ? coupleNames : 'Couple',
      weddingDateISO: typeof weddingDateISO !== 'undefined' ? weddingDateISO : null,
      venueName: typeof venueName !== 'undefined' ? venueName : '',
      venueAddress: typeof venueAddress !== 'undefined' ? venueAddress : '',
      mapsURL: typeof mapsURL !== 'undefined' ? mapsURL : '',
      googleFormURL: typeof googleFormURL !== 'undefined' ? googleFormURL : '',
      musicURL: typeof musicURL !== 'undefined' ? musicURL : ''
    };

    // set names
    namesEl.textContent = cfg.coupleNames;
    sideNamesEl.textContent = cfg.coupleNames;

    // set venue info & links
    venueNameEl.textContent = cfg.venueName || '‚Äî';
    venueAddressEl.textContent = cfg.venueAddress || '‚Äî';
    mapsLinkEl.href = cfg.mapsURL || '#';
    directionsBtn.href = cfg.mapsURL || '#';

    // format wedding date in Turkmen
    function parseDateString(s){
      if(!s) return null;
      // allow "YYYY-MM-DD HH:MM:SS" or "YYYY-MM-DDTHH:MM:SS"
      const normalized = s.trim().replace(' ', 'T');
      const d = new Date(normalized);
      if(isNaN(d)) {
        // fallback: try appending Z (treat as UTC)
        const dd = new Date(normalized + 'Z');
        if(!isNaN(dd)) return dd;
        return null;
      }
      return d;
    }
    const weddingDate = parseDateString(cfg.weddingDateISO);

    if(weddingDate){
      // Turkmen weekday/month names
      const weekday = turkmenWeekdays[weddingDate.getDay()];
      const day = weddingDate.getDate();
      const month = turkmenMonths[weddingDate.getMonth()];
      const year = weddingDate.getFullYear();
      let hours = weddingDate.getHours();
      let minutes = weddingDate.getMinutes();
      if(minutes < 10) minutes = "0" + minutes;
      if(hours < 10) hours = "0" + hours;

      dateTimeEl.textContent = `${weekday}, ${day} ${month} ${year}, ${hours}:${minutes}`;
      dateSubtitleEl.textContent = `${day} ${month} ${year}`;
    } else {
      dateTimeEl.textContent = '‚Äî';
      dateSubtitleEl.textContent = '‚Äî';
    }

    /* -------------------------
       Countdown
       ------------------------- */
    function updateCountdown(){
      if(!weddingDate) return;
      const now = new Date();
      let diff = Math.max(0, weddingDate - now);
      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days * (1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours * (1000*60*60);
      const minutes = Math.floor(diff / (1000*60));
      diff -= minutes * (1000*60);
      const seconds = Math.floor(diff / 1000);

      document.getElementById('days').textContent = String(days).padStart(2,'0');
      document.getElementById('hours').textContent = String(hours).padStart(2,'0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2,'0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2,'0');

      if (weddingDate - now <= 0) {
        const countdownEl = document.getElementById('countdown');
        countdownEl.innerHTML = "<div style='font-weight:700; color:#9c1160'>The celebration has begun! üéâ</div>";
      }
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    /* -------------------------
       Photo carousel
       ------------------------- */
    (function photoCarousel(){
      const imgs = document.querySelectorAll('#photoFrame img');
      if(!imgs || imgs.length <= 1) return;
      let idx = 0;
      setInterval(()=>{
        imgs[idx].classList.remove('active');
        idx = (idx + 1) % imgs.length;
        imgs[idx].classList.add('active');
      }, 3800);
    })();

    /* -------------------------
       Modal (Google Form) logic
       ------------------------- */
    function openModal(){
      if(cfg.googleFormURL && cfg.googleFormURL.trim() !== ''){
        iframe.src = cfg.googleFormURL;
        modalBackdrop.style.display = 'flex';
        modalBackdrop.setAttribute('aria-hidden','false');
        // trap focus (simple)
        closeModal.focus();
      } else {
        alert("RSVP form not configured. Set 'googleFormURL' in the HTML to the Google Form embed share URL (use ?embedded=true).");
      }
    }
    function closeModalFn(){
      modalBackdrop.style.display = 'none';
      modalBackdrop.setAttribute('aria-hidden','true');
      iframe.src = '';
    }
    rsvpBtn.addEventListener('click', openModal);
    closeModal.addEventListener('click', closeModalFn);
    modalBackdrop.addEventListener('click', (e)=>{
      if(e.target === modalBackdrop) closeModalFn();
    });
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && modalBackdrop.style.display === 'flex') closeModalFn();
    });
    // print button inside modal
    printBtn.addEventListener('click', ()=> {
      // print the iframe content if same-origin (otherwise print the page)
      try {
        iframe.contentWindow.print();
      } catch (err) {
        window.print();
      }
    });

    /* -------------------------
       Share button (Web Share API + fallback)
       ------------------------- */
    shareBtn.addEventListener('click', async ()=> {
      const shareData = {
        title: `Wedding ‚Äî ${cfg.coupleNames}`,
        text: `Join us in celebrating ${cfg.coupleNames}!`,
        url: location.href
      };
      try {
        if(navigator.share){
          await navigator.share(shareData);
        } else {
          await navigator.clipboard.writeText(location.href);
          alert("Link copied to clipboard ‚Äî share it with your guests!");
        }
      } catch(err){
        alert("Couldn't share ‚Äî please copy the page URL manually.");
      }
    });

    /* -------------------------
       Background music control
       ------------------------- */
    if(cfg.musicURL && cfg.musicURL.trim() !== ''){
      audio.src = cfg.musicURL;
      musicLabel.textContent = 'Music: Playing file';
      musicToggle.addEventListener('click', async ()=> {
        try {
          if(audio.paused){
            await audio.play();
            musicIcon.textContent = '‚ô´';
            musicToggle.setAttribute('aria-pressed','true');
            musicLabel.textContent = 'Playing';
          } else {
            audio.pause();
            musicIcon.textContent = '‚ô™';
            musicToggle.setAttribute('aria-pressed','false');
            musicLabel.textContent = 'Paused';
          }
        } catch(err){
          // autoplay policies may prevent play ‚Äî show instruction
          alert("Autoplay blocked by browser. Tap the music button again to play.");
        }
      });
      audio.addEventListener('play', ()=>{ musicIcon.textContent='‚ô´'; musicLabel.textContent='Playing' });
      audio.addEventListener('pause', ()=>{ musicIcon.textContent='‚ô™'; musicLabel.textContent='Paused' });
    } else {
      musicLabel.textContent = 'Music: (not configured)';
      musicToggle.addEventListener('click', ()=> {
        alert("No music URL configured. To enable background music, set the 'musicURL' variable in the HTML to a direct MP3 URL.");
      });
    }

    /* Accessibility / small polish */
    // Ensure directions link opens in new tab (already set) and show tooltip on mobile
    directionsBtn.addEventListener('click', (e)=>{
      if(!cfg.mapsURL || cfg.mapsURL.trim() === '') {
        e.preventDefault();
        alert('No directions link configured. Edit the HTML and add a mapsURL.');
      }
    });

    // final small UI init
    if(!cfg.coupleNames) namesEl.textContent = '‚Äî';
    if(!cfg.venueName) venueNameEl.textContent = '‚Äî';
    if(!cfg.venueAddress) venueAddressEl.textContent = '‚Äî';

  })();
  </script>
</body>
</html>
